{"version":3,"file":"pipe.js","sourceRoot":"","sources":["../../../../../../packages/core/src/render3/jit/pipe.ts"],"names":[],"mappings":";;;;;;;;;;;AAQA,OAAO,EAAC,eAAe,EAAE,uBAAuB,EAAE,aAAa,EAAC,MAAM,mBAAmB,CAAC;AAI1F,OAAO,EAAC,SAAS,EAAC,MAAM,SAAS,CAAC;AAElC,OAAO,EAAC,cAAc,EAAC,MAAM,eAAe,CAAC;AAC7C,OAAO,EAAC,WAAW,EAAC,MAAM,UAAU,CAAC;AACrC,OAAO,EAAC,mBAAmB,EAAC,MAAM,QAAQ,CAAC;;;;;;AAE3C,MAAM,UAAU,WAAW,CAAC,IAAe,EAAE,IAAU;;IACrD,IAAI,SAAS,GAAQ,IAAI,CAAC;IAC1B,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,WAAW,EAAE;QACvC,GAAG,EAAE,GAAG,EAAE;YACR,IAAI,SAAS,KAAK,IAAI,EAAE;;gBACtB,MAAM,YAAY,GAAG,QAAQ,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC;;gBAE5D,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;;gBACvB,MAAM,GAAG,GAAG,uBAAuB,CAAC;oBAClC,IAAI;oBACJ,IAAI,EAAE,IAAI,eAAe,CAAC,IAAI,CAAC;oBAC/B,IAAI,EAAE,mBAAmB,CAAC,IAAI,CAAC;oBAC/B,QAAQ,EAAE,IAAI,CAAC,IAAI;oBACnB,IAAI,EAAE,IAAI,CAAC,IAAI,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI;iBACjD,CAAC,CAAC;gBAEH,SAAS,GAAG,aAAa,CAAC,GAAG,CAAC,UAAU,EAAE,cAAc,EAAE,YAAY,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;aACzF;YACD,OAAO,SAAS,CAAC;SAClB;;QAED,YAAY,EAAE,CAAC,CAAC,SAAS;KAC1B,CAAC,CAAC;CACJ","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {WrappedNodeExpr, compilePipeFromMetadata, jitExpression} from '@angular/compiler';\n\nimport {Pipe} from '../../metadata/directives';\nimport {Type} from '../../type';\nimport {stringify} from '../util';\n\nimport {angularCoreEnv} from './environment';\nimport {NG_PIPE_DEF} from './fields';\nimport {reflectDependencies} from './util';\n\nexport function compilePipe(type: Type<any>, meta: Pipe): void {\n  let ngPipeDef: any = null;\n  Object.defineProperty(type, NG_PIPE_DEF, {\n    get: () => {\n      if (ngPipeDef === null) {\n        const sourceMapUrl = `ng://${stringify(type)}/ngPipeDef.js`;\n\n        const name = type.name;\n        const res = compilePipeFromMetadata({\n          name,\n          type: new WrappedNodeExpr(type),\n          deps: reflectDependencies(type),\n          pipeName: meta.name,\n          pure: meta.pure !== undefined ? meta.pure : true,\n        });\n\n        ngPipeDef = jitExpression(res.expression, angularCoreEnv, sourceMapUrl, res.statements);\n      }\n      return ngPipeDef;\n    },\n    // Make the property configurable in dev mode to allow overriding in tests\n    configurable: !!ngDevMode,\n  });\n}\n"]}